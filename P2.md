Introducció
--------

Abans de tot, si estàs visualitzant aquesta pàgina, enhorabona! Veuràs que això de R no és tan complicat com sembla. 
En aquesta plana podràs seguir un exemple pas a pas de tots els càlculs que s'han de dur a terme en la pràctica 2, amb la sèrie pluviomètrica anual de Berga (1961-1990) a la comarca del Berguedà.
**Recorda que la pràctica que has d'entregar és amb el cas del fitxer "serie_ficticia.txt"**

Els fitxers amb les dades es troben al campus virtual. 
- `berga.txt`: dades de precipitació de la capital del Berguedà pel període 1961-1990. El tutorial aquí present es basa en aquestes dades. Els resultats de l'anàlisi amb aquestes dades no s'entreguen.
- `serie_ficticia.txt`: dades de precipitació fictícia pel període 1961-1990. Els resultats de l'anàlisi amb aquestes dades  **SÍ** s'entreguen.

Primers passos
------------

A **R** el primer pas de tots és indicar la ruta on tenim els nostres arxius de treball. Això es pot realitzar pressionant ctrl + shift + H o bé indicant manualment la ruta:

``` r
# Ruta on es troba el fitxer berga.txt
setwd("C:/Users/Marc/Desktop/DOCTORAT/DOCENCIA/AMBIENTALS/practiques/p2")
```

A continuació, per llegir un fitxer ".txt" com és el nostre cas, emprarem la comanda `read.table`

``` r
dades_precipitacio <- read.table("berga.txt", sep = "\t", dec = ".", header = T)

# sep = delimitador d'espai entre columna. En aquest cas indiquem que és una tabulació.
# dec = tipus de decimal. Indiquem que el decimal està indicat com a punt.
# header = ens serveix per definir si tenim o no títols de columnes. Posem T perquè sí que en tenim.
```
De moment, ja hem aconseguit establir el nostre directori i carregar les dades a R. Pots veure que hem assignat un nom a les dades que hem carregat: **dades_precipitacio**. Ara anem a veure què podem fer amb aquestes dades.


Inspeccionant les nostres dades
------------

Observem quin aspecte tenen les nostres dades. Amb head podem veure les 6 primeres files que conté el nostre conjunt de dades. Aquesta funció és útil si tenim un fitxer amb milers de files. Si escrivim el nom del nostre objecte (dades_precipitació) i premem ENTER, ens apareix tot el conjunt de dades.
``` r
head(dades_precipitacio) # mostrem les sis primeres entrades de dos columnes de dades que tenim útil si tenim moltes dades.
dades_precipitacio #mostra totes les dades que tenim
```
El fitxer té dues columnes, una pels anys i una altra per la precipitació total anual anual. Si només volem cridar a una de les dues columnes farem el següent: `dades_precipitació$Total_anual_mm` (en aquest cas per cridar a la columna amb els registres de precipitació)

Ara que més o menys sabem com són les nostres dades, fem una representació senzilla amb la funció `plot`. Com que volem que a l'eix de les X apareguin els anys i a l'eix de les Y els valors de precipitació, escriurem la següent comanda:
``` r
plot(dades_precipitacio$Anys, dades_precipitacio$Total_anual_mm)
```
Veiem que en forma de punts, se'ns representa el valor de precipitació de cada any. De totes maneres, amb una representació per punts és complicat entendre la sèrie, per tant lligarem aquests punts amb línies emprant `type = "b"` dins de la funció plot, el que indica que volem punts i línies. També podem canviar les etiquetes de l'eix X i l'eix Y amb `xlab` i `ylab`. 
``` r
plot(dades_precipitacio$Anys, dades_precipitacio$Total_anual_mm, type = "b", xlab = "anys", ylab = "(mm)")
```
Ara és feina vostra esbrinar com posar el títol al gràfic o com millorar-lo.

Extracció de les dades estadístiques per a realitzar els Tests
------------
Per tal de realitzar satisfactòriament el **Test de Thom** i el **Test de Von Neumann**, necessitem tenir una sèrie de mesures estadístiques:
- Nombre d'anys de la sèrie (N)
- Mitjana pluviomètrica de la sèrie (mitjana)
- Desviació estàndard o típica de la sèrie (desvest)
- Variància de la sèrie (variancia)
- Mediana (mediana)
